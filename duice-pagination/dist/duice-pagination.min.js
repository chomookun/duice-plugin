/*!
 * duice-pagination - v0.2.2
 * git: https://gitbub.com/chomookun/duice-plugin
 * website: https://duice-plugin.chomookun.org
 * Released under the LGPL(GNU Lesser General Public License version 3) License
 */
var duicePagination=function(e,t){"use strict";class n extends t.CustomElement{constructor(e,n,i){super(e,n,i),this.prevContent="<",this.nextContent=">",this.pageNumberSize=10,this.pageProperty=t.getElementAttribute(e,"page-property"),this.sizeProperty=t.getElementAttribute(e,"size-property"),this.countProperty=t.getElementAttribute(e,"count-property"),this.onclick=new Function(t.getElementAttribute(e,"onclick")),this.pageNumberSize=Number(t.getElementAttribute(e,"page-number-size")||this.pageNumberSize),this.prevContent=t.getElementAttribute(e,"prev-content")||this.prevContent,this.nextContent=t.getElementAttribute(e,"next-content")||this.nextContent}doRender(e){let n=Number(e[this.pageProperty]),i=Number(e[this.sizeProperty]),a=Number(e[this.countProperty]),r=Math.ceil(a/i),o=Math.floor(n/this.pageNumberSize)*this.pageNumberSize,s=Math.min(o+(this.pageNumberSize-1),r-1);s=Math.max(s,0);let p=document.createElement("ul");p.classList.add(`${t.Configuration.getNamespace()}-pagination`);let g=document.createElement("li");g.innerHTML=this.prevContent,g.classList.add(`${t.Configuration.getNamespace()}-pagination__item-prev`),g.dataset.page=String(Math.max(o-this.pageNumberSize,0)),g.addEventListener("click",(()=>{this.onclick.call(g)})),n<this.pageNumberSize&&g.classList.add(`${t.Configuration.getNamespace()}-pagination__item--disable`),p.appendChild(g);for(let e=o;e<=s;e++){let i=document.createElement("li");i.appendChild(document.createTextNode(String(e+1))),i.dataset.page=String(e),i.classList.add(`${t.Configuration.getNamespace()}-pagination__item-page`),e===n&&i.classList.add(`${t.Configuration.getNamespace()}-pagination__item--active`),i.addEventListener("click",(()=>{this.onclick.call(i)})),p.appendChild(i)}let l=document.createElement("li");l.innerHTML=this.nextContent,l.classList.add(`${t.Configuration.getNamespace()}-pagination__item-next`),l.dataset.page=String(Math.min(s+1,r)),l.addEventListener("click",(()=>{this.onclick.call(l)})),s>=r-1&&l.classList.add(`${t.Configuration.getNamespace()}-pagination__item--disable`),p.appendChild(l),this.getHtmlElement().innerHTML="",this.getHtmlElement().appendChild(this.createStyle()),this.getHtmlElement().appendChild(p)}doUpdate(e){this.render()}createStyle(){let e=document.createElement("style");return e.innerHTML=`\n            ${t.Configuration.getNamespace()}-pagination {\n                display: inline-block;\n            }\n            .${t.Configuration.getNamespace()}-pagination {\n                list-style: none;\n                display: flex;\n                padding-left: 0;\n                margin: 0;\n            }\n            .${t.Configuration.getNamespace()}-pagination__item-page {\n                cursor: pointer;\n                padding: 0 0.5em;\n            }\n            .${t.Configuration.getNamespace()}-pagination__item-prev {\n                cursor: pointer;\n                padding: 0 0.5em;\n            }\n            .${t.Configuration.getNamespace()}-pagination__item-next {\n                cursor: pointer;\n                padding: 0 0.5em;\n            }\n            .${t.Configuration.getNamespace()}-pagination__item--active {\n                font-weight: bold;\n                text-decoration: underline;\n                pointer-events: none;\n            }\n            .${t.Configuration.getNamespace()}-pagination__item--disable {\n                pointer-events: none;\n            }\n        `,e}}class i extends t.CustomElementFactory{doCreateElement(e,t,i){return new n(e,t,i)}}return t.DataElementRegistry.register(`${t.Configuration.getNamespace()}-pagination`,new i),e.PaginationFactory=i,Object.defineProperty(e,"__esModule",{value:!0}),e}({},duice);
//# sourceMappingURL=duice-pagination.min.js.map
