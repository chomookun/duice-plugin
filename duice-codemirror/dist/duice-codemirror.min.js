/*!
 * duice-codemirror - v0.2.6
 * git: https://gitbub.com/chomookun/duice-plugin
 * website: https://duice-plugin.chomookun.org
 * Released under the LGPL(GNU Lesser General Public License version 3) License
 */
this.duice=this.duice||{},this.duice.plugin=this.duice.plugin||{},this.duice.plugin.Codemirror=function(e,t){"use strict";class r extends t.ObjectElement{constructor(e,r,i){super(e,r,i),this.mode="text/x-markdown",this.theme="default",this.getHtmlElement().style.display="block",this.mode=t.getElementAttribute(e,"mode")||this.mode,this.theme=t.getElementAttribute(e,"theme")||this.theme;let o={mode:this.mode,inputStyle:"textarea",lineNumbers:!0,theme:this.theme,extraKeys:{Enter:"newlineAndIndentContinueMarkdownList"}},s=document.createElement("textarea");this.getHtmlElement().appendChild(s),this.codeMirror=CodeMirror.fromTextArea(s,o),this.codeMirror.setSize("100%","100%"),setTimeout((()=>{this.codeMirror.refresh()}),1),this.codeMirror.on("blur",(()=>{let e=new t.PropertyChangeEvent(this,this.getProperty(),this.getValue(),this.getIndex());this.notifyObservers(e)}))}setValue(e){e||(e="");let t=this.codeMirror.getScrollInfo();this.codeMirror.doc.setValue(e),this.codeMirror.scrollTo(t.left,t.top)}getValue(){let e=this.codeMirror.doc.getValue();return e||null}setReadonly(e){this.codeMirror.setOption("readOnly",e)}}class i extends t.ObjectElementFactory{createElement(e,t,i){return new r(e,t,i)}}return t.ElementRegistry.register(`${t.Configuration.getNamespace()}-codemirror`,new i),e.CodemirrorElement=r,e.CodemirrorElementFactory=i,Object.defineProperty(e,"__esModule",{value:!0}),e}({},duice);
//# sourceMappingURL=duice-codemirror.min.js.map
