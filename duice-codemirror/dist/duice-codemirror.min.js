var duiceCodemirror=function(e,t){"use strict";class r{constructor(e){this.source=e}}class o extends r{constructor(e,t,r,o){super(e),this.property=t,this.value=r,this.index=o}getProperty(){return this.property}getValue(){return this.value}getIndex(){return this.index}}class i extends t.ObjectElement{constructor(e,r,i){super(e,r,i),this.mode="text/x-markdown",this.theme="default",this.getHtmlElement().style.display="block",this.mode=t.getElementAttribute(e,"mode")||this.mode,this.theme=t.getElementAttribute(e,"theme")||this.theme;let s={mode:this.mode,inputStyle:"textarea",lineNumbers:!0,theme:this.theme,extraKeys:{Enter:"newlineAndIndentContinueMarkdownList"}},n=document.createElement("textarea");this.getHtmlElement().appendChild(n),this.codeMirror=CodeMirror.fromTextArea(n,s),this.codeMirror.setSize("100%","100%"),setTimeout((()=>{this.codeMirror.refresh()}),1),this.codeMirror.on("blur",(()=>{let e=new o(this,this.getProperty(),this.getValue(),this.getIndex());this.notifyObservers(e)}))}setValue(e){e||(e="");let t=this.codeMirror.getScrollInfo();this.codeMirror.doc.setValue(e),this.codeMirror.scrollTo(t.left,t.top)}getValue(){let e=this.codeMirror.doc.getValue();return e||null}setReadonly(e){this.codeMirror.setOption("readOnly",e)}}class s extends t.ObjectElementFactory{createElement(e,t,r){return new i(e,t,r)}}return t.DataElementRegistry.register(`${t.Configuration.getNamespace()}-codemirror`,new s),e.Codemirror=i,e.CodemirrorFactory=s,Object.defineProperty(e,"__esModule",{value:!0}),e}({},duice);
//# sourceMappingURL=duice-codemirror.min.js.map
