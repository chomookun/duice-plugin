{"version":3,"file":"duice-files.js","sources":["FilesElement.js","FilesElementFactory.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Configuration, CustomElement, findVariable } from \"duice\";\nimport { getElementAttribute, callFunction } from \"duice\";\n/**\n * Files Element\n */\nexport class FilesElement extends CustomElement {\n    /**\n     * Constructor\n     * @param htmlElement html element\n     * @param bindData bind data\n     * @param context context\n     */\n    constructor(htmlElement, bindData, context) {\n        super(htmlElement, bindData, context);\n        this.iconContent = '<svg style=\"display:block;\" xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 50 50\" width=\"1rem\" height=\"1rem\"><path d=\"M 7 2 L 7 48 L 43 48 L 43 14.59375 L 42.71875 14.28125 L 30.71875 2.28125 L 30.40625 2 Z M 9 4 L 29 4 L 29 16 L 41 16 L 41 46 L 9 46 Z M 31 5.4375 L 39.5625 14 L 31 14 Z\"/></svg>';\n        this.removeContent = '[-]';\n        this.addContent = '[+]';\n        this.emptyContent = 'No files';\n        // attributes\n        this.filenameProperty = getElementAttribute(htmlElement, 'filename-property');\n        this.sizeProperty = getElementAttribute(htmlElement, 'size-property');\n        const files = getElementAttribute(htmlElement, 'files');\n        this.files = files ? findVariable(context, files) : null;\n        // event listeners\n        const onClick = getElementAttribute(htmlElement, 'on-click');\n        this.onClick = onClick ? findVariable(context, onClick) : null;\n        const onAdd = getElementAttribute(htmlElement, 'on-add');\n        this.onAdd = onAdd ? findVariable(context, onAdd) : null;\n        const onRemove = getElementAttribute(htmlElement, 'on-remove');\n        this.onRemove = onRemove ? findVariable(context, onRemove) : null;\n        // custom style\n        this.iconContent = getElementAttribute(htmlElement, 'icon-content') || this.iconContent;\n        this.removeContent = getElementAttribute(htmlElement, 'remove-content') || this.removeContent;\n        this.addContent = getElementAttribute(htmlElement, 'add-content') || this.addContent;\n    }\n    /**\n     * Do render\n     * @param object\n     */\n    doRender(object) {\n        this.getHtmlElement().innerHTML = '';\n        this.getHtmlElement().appendChild(this.createStyle());\n        // items\n        let arrayProxy = this.getBindData();\n        arrayProxy.forEach((file, index) => {\n            let itemElement = this.createItemElement(file, index);\n            this.getHtmlElement().appendChild(itemElement);\n        });\n        // item empty\n        if (arrayProxy.length === 0) {\n            let emptyElement = document.createElement('div');\n            emptyElement.innerHTML = `${this.emptyContent}`;\n            emptyElement.classList.add(`${Configuration.getNamespace()}-files__empty`);\n            this.getHtmlElement().appendChild(emptyElement);\n        }\n        // add button\n        if (this.files) {\n            let addButton = document.createElement('span');\n            addButton.innerHTML = this.addContent;\n            addButton.classList.add(`${Configuration.getNamespace()}-files__item-add`);\n            addButton.addEventListener('click', () => {\n                this.addFile().then();\n            });\n            this.getHtmlElement().appendChild(addButton);\n        }\n    }\n    createItemElement(item, index) {\n        let filename = item[this.filenameProperty];\n        let size = parseInt(item[this.sizeProperty]);\n        let itemElement = document.createElement('div');\n        itemElement.classList.add(`${Configuration.getNamespace()}-files__item`);\n        // icon\n        let iconElement = document.createElement('span');\n        iconElement.innerHTML = `${this.iconContent}`;\n        iconElement.classList.add(`${Configuration.getNamespace()}-files__item-icon`);\n        itemElement.appendChild(iconElement);\n        // filename\n        let filenameElement = document.createElement('span');\n        filenameElement.innerHTML = `${filename}`;\n        filenameElement.classList.add(`${Configuration.getNamespace()}-files__item-filename`);\n        itemElement.appendChild(filenameElement);\n        // on click listener\n        if (this.onClick) {\n            filenameElement.style.cursor = 'pointer';\n            filenameElement.classList.add(`${Configuration.getNamespace()}-files__item-filename--on-click`);\n            filenameElement.addEventListener('click', () => {\n                console.log(this.onClick);\n                callFunction(this.onClick, filenameElement, item);\n            });\n        }\n        // size\n        let sizeElement = document.createElement('span');\n        sizeElement.innerHTML = `(${this.formatBytes(size)})`;\n        sizeElement.classList.add(`${Configuration.getNamespace()}-files__item-size`);\n        itemElement.appendChild(sizeElement);\n        // remove button\n        if (this.files) {\n            let removeButton = document.createElement('span');\n            removeButton.innerHTML = this.removeContent;\n            removeButton.classList.add(`${Configuration.getNamespace()}-files__item-remove`);\n            removeButton.dataset.index = index.toString();\n            let _this = this;\n            removeButton.addEventListener('click', function () {\n                let index = parseInt(this.dataset.index);\n                _this.removeFile(index);\n            });\n            itemElement.appendChild(removeButton);\n        }\n        // returns\n        return itemElement;\n    }\n    formatBytes(bytes, scale = 2) {\n        if (bytes === 0)\n            return '0 Bytes';\n        const k = 1024;\n        const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n        const value = parseFloat((bytes / Math.pow(k, i)).toFixed(scale));\n        return `${value} ${sizes[i]}`;\n    }\n    /**\n     * Adds file\n     */\n    addFile() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let _this = this;\n            let input = document.createElement('input');\n            input.setAttribute('type', 'file');\n            input.setAttribute('multiple', 'true');\n            input.addEventListener('change', function () {\n                return __awaiter(this, void 0, void 0, function* () {\n                    let files = Array.from(this[`files`]);\n                    let items = [];\n                    if (_this.onAdd) {\n                        let result = yield _this.callOnAddListener(files);\n                        if (!result) {\n                            return false;\n                        }\n                        else {\n                            items.push(...result);\n                        }\n                    }\n                    else {\n                        for (const file of files) {\n                            let item = {\n                                [_this.filenameProperty]: file.name,\n                                [_this.sizeProperty]: file.size\n                            };\n                            items.push(item);\n                        }\n                    }\n                    // set file into item for deletion detection\n                    for (let i = 0; i < items.length; i++) {\n                        let item = items[i];\n                        let file = files[i];\n                        globalThis.Object.defineProperty(item, '_file_', { value: file, writable: true });\n                        _this.getBindData().push(item);\n                        _this.files.push(files[i]);\n                    }\n                });\n            });\n            input.click();\n        });\n    }\n    /**\n     * Removes file\n     * @param index index\n     */\n    removeFile(index) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            let arrayProxy = this.getBindData();\n            let objectProxy = arrayProxy[index];\n            // calls on remove listener\n            if (this.onRemove) {\n                let result = yield this.callOnRemoveListener(objectProxy);\n                if (result === false) {\n                    return;\n                }\n            }\n            // if target file is exist, remove file\n            let targetFile = (_a = globalThis.Object.getOwnPropertyDescriptor(objectProxy, '_file_')) === null || _a === void 0 ? void 0 : _a.value;\n            if (targetFile) {\n                let fileIndex = this.files.findIndex(it => {\n                    return it === targetFile;\n                });\n                this.files.splice(fileIndex, 1);\n            }\n            arrayProxy.splice(index, 1);\n        });\n    }\n    /**\n     * Updates element\n     * @param object\n     */\n    doUpdate(object) {\n        this.render();\n    }\n    /**\n     * Creates style\n     */\n    createStyle() {\n        let style = document.createElement('style');\n        style.innerHTML = `\n            ${Configuration.getNamespace()}-files {\n                display: block;\n            }\n            .${Configuration.getNamespace()}-files__item {\n                display: flex;\n                gap: 0.25rem;\n                align-items: center;\n            }\n            .${Configuration.getNamespace()}-files__item > * {\n                display: inline-block;\n            }\n            .${Configuration.getNamespace()}-files__item-icon {\n                height: 1em;\n                filter: invert(0.5);\n            }\n            .${Configuration.getNamespace()}-files__item-filename {\n            }\n            .${Configuration.getNamespace()}-files__item-filename--on-click:hover {\n                text-decoration: underline;\n            }\n            .${Configuration.getNamespace()}-files__item-size {\n            }\n            .${Configuration.getNamespace()}-files__item-remove {\n                cursor: pointer;\n            } \n            .${Configuration.getNamespace()}-files__item-add {\n                cursor: pointer;\n            }\n            .${Configuration.getNamespace()}-files__empty {\n            }\n        `;\n        return style;\n    }\n    callOnAddListener(files) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield callFunction(this.onAdd, null, files);\n        });\n    }\n    callOnRemoveListener(item) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield callFunction(this.onRemove, null, item);\n        });\n    }\n}\n//# sourceMappingURL=FilesElement.js.map","import { Configuration, CustomElementFactory } from \"duice\";\nimport { ElementRegistry } from \"duice\";\nimport { FilesElement } from \"./FilesElement\";\n/**\n * File Element Factory\n */\nexport class FilesElementFactory extends CustomElementFactory {\n    /**\n     * Creates element\n     * @param htmlElement html element\n     * @param bindData bind data\n     * @param context context\n     */\n    doCreateElement(htmlElement, bindData, context) {\n        return new FilesElement(htmlElement, bindData, context);\n    }\n}\n/**\n * Static block\n */\n(() => {\n    // register\n    ElementRegistry.register(`${Configuration.getNamespace()}-files`, new FilesElementFactory());\n})();\n//# sourceMappingURL=FilesElementFactory.js.map"],"names":["this","CustomElement","getElementAttribute","findVariable","Configuration","callFunction","CustomElementFactory","ElementRegistry"],"mappings":"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"}