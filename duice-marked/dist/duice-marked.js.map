{"version":3,"file":"duice-marked.js","sources":["MarkedElement.js","MarkedElementFactory.js"],"sourcesContent":["import { ObjectElement } from \"duice\";\n/**\n * Marked Element\n */\nexport class MarkedElement extends ObjectElement {\n    /**\n     * Constructor\n     * @param htmlElement html element\n     * @param bindData bind data\n     * @param context context\n     */\n    constructor(htmlElement, bindData, context) {\n        super(htmlElement, bindData, context);\n        // creates child div\n        this.div = document.createElement('div');\n        this.getHtmlElement().appendChild(this.div);\n        // customizes responsive table\n        const renderer = new marked.Renderer();\n        renderer.table = (header, body) => {\n            return `<table style=\"display:inline-block;overflow-x:scroll;max-width:100%;\">\\n<thead>${header}</thead>\\n<tbody>${body}</tbody>\\n</table>`;\n        };\n        // config\n        this.config = {\n            headerIds: false,\n            mangle: false,\n            breaks: true,\n            gfm: true,\n            renderer: renderer\n        };\n    }\n    /**\n     * Sets value\n     * @param value value\n     */\n    setValue(value) {\n        value = value ? value : '';\n        value = marked.parse(value, this.config);\n        this.div.innerHTML = value;\n        this.div.querySelectorAll('[class^=language-]').forEach(function (pre) {\n            pre.classList.add('line-numbers');\n        });\n        // highlight\n        Prism.highlightAll();\n    }\n}\n//# sourceMappingURL=MarkedElement.js.map","import { Configuration, ObjectElementFactory } from \"duice\";\nimport { ElementRegistry } from \"duice\";\nimport { MarkedElement } from \"./MarkedElement\";\n/**\n * Marked Element Factory\n */\nexport class MarkedElementFactory extends ObjectElementFactory {\n    /**\n     * Creates element\n     * @param htmlElement html element\n     * @param bindData bind data\n     * @param context context\n     */\n    createElement(htmlElement, bindData, context) {\n        return new MarkedElement(htmlElement, bindData, context);\n    }\n}\n/**\n * Static block\n */\n(() => {\n    // register\n    ElementRegistry.register(`${Configuration.getNamespace()}-marked`, new MarkedElementFactory());\n})();\n//# sourceMappingURL=MarkedElementFactory.js.map"],"names":["ObjectElement","ObjectElementFactory","ElementRegistry","Configuration"],"mappings":";;;;;;;;;;;IACA;IACA;IACA;IACO,MAAM,aAAa,SAASA,mBAAa,CAAC;IACjD;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,WAAW,CAAC,WAAW,EAAE,QAAQ,EAAE,OAAO,EAAE;IAChD,QAAQ,KAAK,CAAC,WAAW,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;IAC9C;IACA,QAAQ,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IACjD,QAAQ,IAAI,CAAC,cAAc,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACpD;IACA,QAAQ,MAAM,QAAQ,GAAG,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC;IAC/C,QAAQ,QAAQ,CAAC,KAAK,GAAG,CAAC,MAAM,EAAE,IAAI,KAAK;IAC3C,YAAY,OAAO,CAAC,+EAA+E,EAAE,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;IACxJ,SAAS,CAAC;IACV;IACA,QAAQ,IAAI,CAAC,MAAM,GAAG;IACtB,YAAY,SAAS,EAAE,KAAK;IAC5B,YAAY,MAAM,EAAE,KAAK;IACzB,YAAY,MAAM,EAAE,IAAI;IACxB,YAAY,GAAG,EAAE,IAAI;IACrB,YAAY,QAAQ,EAAE,QAAQ;IAC9B,SAAS,CAAC;IACV,KAAK;IACL;IACA;IACA;IACA;IACA,IAAI,QAAQ,CAAC,KAAK,EAAE;IACpB,QAAQ,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,EAAE,CAAC;IACnC,QAAQ,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACjD,QAAQ,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;IACnC,QAAQ,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;IAC/E,YAAY,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAC9C,SAAS,CAAC,CAAC;IACX;IACA,QAAQ,KAAK,CAAC,YAAY,EAAE,CAAC;IAC7B,KAAK;IACL;;ICzCA;IACA;IACA;IACO,MAAM,oBAAoB,SAASC,0BAAoB,CAAC;IAC/D;IACA;IACA;IACA;IACA;IACA;IACA,IAAI,aAAa,CAAC,WAAW,EAAE,QAAQ,EAAE,OAAO,EAAE;IAClD,QAAQ,OAAO,IAAI,aAAa,CAAC,WAAW,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;IACjE,KAAK;IACL,CAAC;IACD;IACA;IACA;IACA,CAAC,MAAM;IACP;IACA,IAAIC,qBAAe,CAAC,QAAQ,CAAC,CAAC,EAAEC,mBAAa,CAAC,YAAY,EAAE,CAAC,OAAO,CAAC,EAAE,IAAI,oBAAoB,EAAE,CAAC,CAAC;IACnG,CAAC,GAAG;;;;;;;;;;;;;"}