{"version":3,"file":"duice-marked.min.js","sources":["Marked.js","MarkedFactory.js"],"sourcesContent":["import { ObjectElement } from \"duice\";\nexport class Marked extends ObjectElement {\n    constructor(element, bindData, context) {\n        super(element, bindData, context);\n        // creates child div\n        this.div = document.createElement('div');\n        this.getHtmlElement().appendChild(this.div);\n        // customizes responsive table\n        const renderer = new marked.Renderer();\n        renderer.table = (header, body) => {\n            return `<table style=\"display:inline-block;overflow-x:scroll;max-width:100%;\">\\n<thead>${header}</thead>\\n<tbody>${body}</tbody>\\n</table>`;\n        };\n        // config\n        this.config = {\n            headerIds: false,\n            mangle: false,\n            breaks: true,\n            gfm: true,\n            renderer: renderer\n        };\n    }\n    setValue(value) {\n        value = value ? value : '';\n        value = marked.parse(value, this.config);\n        this.div.innerHTML = value;\n        this.div.querySelectorAll('[class^=language-]').forEach(function (pre) {\n            pre.classList.add('line-numbers');\n        });\n        // highlight\n        Prism.highlightAll();\n    }\n}\n//# sourceMappingURL=Marked.js.map","import { Configuration, ObjectElementFactory } from \"duice\";\nimport { DataElementRegistry } from \"duice\";\nimport { Marked } from \"./Marked\";\nexport class MarkedFactory extends ObjectElementFactory {\n    createElement(htmlElement, bindData, context) {\n        return new Marked(htmlElement, bindData, context);\n    }\n}\n(() => {\n    // register\n    DataElementRegistry.register(`${Configuration.getNamespace()}-marked`, new MarkedFactory());\n})();\n//# sourceMappingURL=MarkedFactory.js.map"],"names":["Marked","ObjectElement","constructor","element","bindData","context","super","this","div","document","createElement","getHtmlElement","appendChild","renderer","marked","Renderer","table","header","body","config","headerIds","mangle","breaks","gfm","setValue","value","parse","innerHTML","querySelectorAll","forEach","pre","classList","add","Prism","highlightAll","MarkedFactory","ObjectElementFactory","htmlElement","DataElementRegistry","register","Configuration","getNamespace"],"mappings":";;;;;;2CACO,MAAMA,UAAeC,EAAAA,cACxB,WAAAC,CAAYC,EAASC,EAAUC,GAC3BC,MAAMH,EAASC,EAAUC,GAEzBE,KAAKC,IAAMC,SAASC,cAAc,OAClCH,KAAKI,iBAAiBC,YAAYL,KAAKC,KAEvC,MAAMK,EAAW,IAAIC,OAAOC,SAC5BF,EAASG,MAAQ,CAACC,EAAQC,IACf,kFAAkFD,qBAA0BC,sBAGvHX,KAAKY,OAAS,CACVC,WAAW,EACXC,QAAQ,EACRC,QAAQ,EACRC,KAAK,EACLV,SAAUA,EAEjB,CACD,QAAAW,CAASC,GACLA,EAAQA,GAAgB,GACxBA,EAAQX,OAAOY,MAAMD,EAAOlB,KAAKY,QACjCZ,KAAKC,IAAImB,UAAYF,EACrBlB,KAAKC,IAAIoB,iBAAiB,sBAAsBC,SAAQ,SAAUC,GAC9DA,EAAIC,UAAUC,IAAI,eAC9B,IAEQC,MAAMC,cACT,EC3BE,MAAMC,UAAsBC,EAAAA,qBAC/B,aAAA1B,CAAc2B,EAAajC,EAAUC,GACjC,OAAO,IAAIL,EAAOqC,EAAajC,EAAUC,EAC5C,SAIDiC,sBAAoBC,SAAS,GAAGC,gBAAcC,wBAAyB,IAAIN"}