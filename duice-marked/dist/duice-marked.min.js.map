{"version":3,"file":"duice-marked.min.js","sources":["Marked.js","MarkedFactory.js"],"sourcesContent":["import { ObjectElement } from \"duice\";\nexport class Marked extends ObjectElement {\n    constructor(element, bindData, context) {\n        super(element, bindData, context);\n        // creates child div\n        this.div = document.createElement('div');\n        this.getHtmlElement().appendChild(this.div);\n        // config\n        this.config = {\n            headerIds: false,\n            mangle: false,\n            breaks: true,\n            gfm: true\n        };\n    }\n    setValue(value) {\n        value = value ? value : '';\n        value = marked.parse(value, this.config);\n        this.div.innerHTML = value;\n        this.div.querySelectorAll('[class^=language-]').forEach(function (pre) {\n            pre.classList.add('line-numbers');\n        });\n        // highlight\n        Prism.highlightAll();\n    }\n}\n//# sourceMappingURL=Marked.js.map","import { Configuration, ObjectElementFactory } from \"duice\";\nimport { DataElementRegistry } from \"duice\";\nimport { Marked } from \"./Marked\";\nexport class MarkedFactory extends ObjectElementFactory {\n    createElement(htmlElement, bindData, context) {\n        return new Marked(htmlElement, bindData, context);\n    }\n}\n(() => {\n    // register\n    DataElementRegistry.register(`${Configuration.getNamespace()}-marked`, new MarkedFactory());\n})();\n//# sourceMappingURL=MarkedFactory.js.map"],"names":["Marked","ObjectElement","constructor","element","bindData","context","super","this","div","document","createElement","getHtmlElement","appendChild","config","headerIds","mangle","breaks","gfm","setValue","value","marked","parse","innerHTML","querySelectorAll","forEach","pre","classList","add","Prism","highlightAll","MarkedFactory","ObjectElementFactory","htmlElement","DataElementRegistry","register","Configuration","getNamespace"],"mappings":";;;;;;2CACO,MAAMA,UAAeC,EAAAA,cACxB,WAAAC,CAAYC,EAASC,EAAUC,GAC3BC,MAAMH,EAASC,EAAUC,GAEzBE,KAAKC,IAAMC,SAASC,cAAc,OAClCH,KAAKI,iBAAiBC,YAAYL,KAAKC,KAEvCD,KAAKM,OAAS,CACVC,WAAW,EACXC,QAAQ,EACRC,QAAQ,EACRC,KAAK,EAEZ,CACD,QAAAC,CAASC,GACLA,EAAQA,GAAgB,GACxBA,EAAQC,OAAOC,MAAMF,EAAOZ,KAAKM,QACjCN,KAAKC,IAAIc,UAAYH,EACrBZ,KAAKC,IAAIe,iBAAiB,sBAAsBC,SAAQ,SAAUC,GAC9DA,EAAIC,UAAUC,IAAI,eAC9B,IAEQC,MAAMC,cACT,ECrBE,MAAMC,UAAsBC,EAAAA,qBAC/B,aAAArB,CAAcsB,EAAa5B,EAAUC,GACjC,OAAO,IAAIL,EAAOgC,EAAa5B,EAAUC,EAC5C,SAID4B,sBAAoBC,SAAS,GAAGC,gBAAcC,wBAAyB,IAAIN"}